{"version":3,"sources":["stores/user.js","stores/history.js","stores/image.js","stores/auth.js","stores/index.js","components/logo.svg","components/ProductDropdown.js","components/Header.js","components/Footer.js","components/Loading.js","App.js","reportWebVitals.js","index.js","models/index.js"],"names":["makeObservable","this","currentUser","Auth","getCurrentUser","observable","action","limit","newList","list","concat","database","isLoading","UpLoader","find","page","then","append","length","hasMore","catch","error","message","finally","newFileName","fileName","newFile","file","serverFile","Promise","resolve","reject","add","err","username","values","password","login","user","UserStore","pullUser","resetUser","register","isLogin","logout","HistoryStore","reset","ImageStore","context","createContext","AuthStore","useStores","useContext","HeadButton","styled","Button","Component","components","menu","listName","i","childrenItem","arrayOfList","commonSetting","push","Item","to","homeTitle","homeTitleList","overlay","placement","arrow","Header","header","Logo","img","P","p","StyledLink","NavLink","HeaderTop","div","HeadTopLeft","nav","Login","HeadTopRight","HeadMid","HeadBottom","StyledButton","observer","history","useHistory","useEffect","localStorage","getItem","setUsername","setPassword","setItem","Math","random","onCart","value","type","onClick","style","color","attributes","activeClassName","exact","src","LogoUrl","ProductDropdown","Footer","footer","Loading","Home","lazy","Cart","History","About","Register","Products","Product","Payment","stripePromise","loadStripe","App","fallback","stripe","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","document","cookie","ReactDOM","render","getElementById","AV","init","appId","appKey","serverURL","User","signUp","loginedUser","logIn","loginUser","removeItem","logOut","current","No","item","Object","set","save","serverProduct","delete","id","query","createWithoutData","destroy","results","Query","include","descending","skip","equalTo","buy","props","address","resultList","console","log","name","phone","email"],"mappings":"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","file":"static/js/main.343f6c1b.chunk.js","sourcesContent":["import { observable, action, makeObservable } from \"mobx\";\r\nimport { Auth } from \"../models\";\r\nclass UserStore {\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n  @observable currentUser = null;\r\n\r\n  @action pullUser() {\r\n    this.currentUser = Auth.getCurrentUser();\r\n  }\r\n\r\n  @action resetUser(){\r\n      this.currentUser=null;\r\n  }\r\n\r\n}\r\n\r\nexport default new UserStore() ;\r\n","import { message } from \"antd\";\r\nimport { observable, action, makeObservable } from \"mobx\";\r\nimport { UpLoader } from \"../models\";\r\nclass HistoryStore {\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n  @observable list = [];\r\n  @observable isLoading = false;\r\n  @observable hasMore = true;\r\n  @observable page = 0;\r\n  limit = 10;\r\n\r\n  @action append(newList) {\r\n    this.list = this.list.concat(newList);\r\n  }\r\n  @action async find(database) {\r\n    this.isLoading = true;\r\n    await UpLoader.find({ page: this.page, limit: this.limit },database)\r\n    .then((newList) => {\r\n      this.append(newList);\r\n        this.page++;\r\n        if (newList.length < this.limit) {\r\n          this.hasMore = false;\r\n        }\r\n      })\r\n      .catch((error) => message.error('load data fail'))\r\n\r\n      .finally(() => (this.isLoading = false));\r\n  }\r\n\r\n  @action reset() {\r\n    this.list = [];\r\n    this.isLoading = false;\r\n    this.hasMore = true;\r\n    this.page = 0;\r\n  }\r\n}\r\n\r\nexport default new HistoryStore();\r\n","import { observable, action, makeObservable } from \"mobx\";\r\nimport resolve from \"resolve\";\r\nimport { UpLoader } from \"../models\";\r\nclass ImageStore {\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n  @observable fileName = \"\";\r\n  @observable file = null;\r\n  @observable isLoading = false;\r\n  @observable serverFile = null;\r\n\r\n  @action setFileName(newFileName) {\r\n    this.fileName = newFileName;\r\n  }\r\n  @action setFile(newFile) {\r\n    this.file = newFile;\r\n  }\r\n\r\n  @action upLoader() {\r\n    this.isLoading = true;\r\n    this.serverFile=null;\r\n    return new Promise((resolve, reject) => {\r\n      UpLoader.add(this.file,this.fileName, )\r\n        .then((serverFile) => {\r\n            this.serverFile=serverFile\r\n          resolve(serverFile);\r\n        })\r\n        .catch((err) => reject(err))\r\n        .finally(() => (this.isLoading = false));\r\n    });\r\n  }\r\n  @action reset() {\r\n    this.isLoading = false;\r\n    this.serverFile = null;\r\n  }\r\n}\r\n\r\nexport default new ImageStore();\r\n","import { message } from \"antd\";\r\nimport { observable, action, makeObservable } from \"mobx\";\r\nimport { Auth } from \"../models\";\r\nimport UserStore from \"./user\";\r\nimport HistoryStore from \"./history\";\r\nimport ImageStore from \"./image\"\r\nclass AuthStore {\r\n  constructor() {\r\n    makeObservable(this);\r\n  }\r\n  @observable values = {\r\n    username: \"aaron\",\r\n    password: \"\",\r\n  };\r\n\r\n  @action setUsername(username) {\r\n    this.values.username = username;\r\n  }\r\n  @action setPassword(password) {\r\n    this.values.password = password;\r\n  }\r\n  @action login() {\r\n    return new Promise((resolve, reject) => {\r\n      Auth.login(this.values.username, this.values.password)\r\n        .then((user) => {\r\n\r\n          UserStore.pullUser();\r\n          resolve(user);\r\n        })\r\n        .catch((err) => {\r\n          UserStore.resetUser();\r\n          message.error(\"fail to login, please check username and password\")\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n  @action register() {\r\n    return new Promise((resolve, reject) => {\r\n        Auth.register(this.values.username, this.values.password)\r\n          .then((user) => {\r\n            UserStore.pullUser();\r\n            resolve(user);\r\n          })\r\n          .catch((err) => {\r\n            UserStore.resetUser();\r\n            message.error(\"fail to register, username already exist\")\r\n            reject(err);\r\n          });\r\n      });\r\n  }\r\n\r\n  @action logout(isLogin) {\r\n    Auth.logout();\r\n    UserStore.resetUser();\r\n    HistoryStore.reset();\r\n    ImageStore.reset();\r\n  }\r\n}\r\n\r\nexport default new AuthStore();\r\n","import React, { createContext, useContext } from \"react\";\r\nimport AuthStore from \"./auth\";\r\nimport UserStore from \"./user\";\r\nimport ImageStore from \"./image\";\r\nimport HistoryStore from \"./history\";\r\n\r\nconst context = createContext({\r\n  AuthStore,\r\n  UserStore,\r\n  ImageStore,\r\n  HistoryStore\r\n});\r\n\r\nexport const useStores = () => useContext(context);\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Menu, Dropdown, Button } from \"antd\";\r\nimport commonSetting from \"../assets/common-setting.json\";\r\nimport {  Link } from \"react-router-dom\";\r\n\r\nconst HeadButton = styled(Button)`\r\n  margin: 0 30px;\r\n`;\r\n\r\nfunction Component() {\r\n  var components = [];\r\n\r\n  const menu = (listName) => {\r\n    var i = 0;\r\n    var childrenItem = [];\r\n    for (var arrayOfList in commonSetting) {\r\n      if (arrayOfList === listName) {\r\n        for (var list in commonSetting[arrayOfList]) {\r\n          i++;\r\n          childrenItem.push(\r\n            <Menu.Item key={i}>\r\n              <Link to={\"/products/\"+commonSetting[arrayOfList][list]}\r\n              >\r\n                {commonSetting[arrayOfList][list]}\r\n              </Link>\r\n            </Menu.Item>\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return <Menu key={i}>{childrenItem}</Menu>;\r\n  };\r\n  for (var homeTitle in commonSetting.homeTitleList) {\r\n    components.push(\r\n      <Dropdown overlay={menu(homeTitle)} placement=\"bottomCenter\" arrow key={homeTitle}>\r\n        <HeadButton>{commonSetting.homeTitleList[homeTitle]}</HeadButton>\r\n      </Dropdown>\r\n    );\r\n  }\r\n  return <>{components}</>;\r\n}\r\n\r\nexport default Component;\r\n","import React, { useEffect } from \"react\";\r\nimport LogoUrl from \"./logo.svg\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"antd\";\r\nimport { useStores } from \"../stores\";\r\nimport { observer } from \"mobx-react\";\r\nimport ProductDropdown from \"./ProductDropdown\";\r\nconst Header = styled.header`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 10px 10px;\r\n  background-color: #02101f;\r\n  color: #fff;\r\n  & StyledLink {\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  height: 30px;\r\n`;\r\n\r\nconst P = styled.p`\r\n  color: #f3f;\r\n  font-size: 50px;\r\n`;\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  margin: 0 30px;\r\n\r\n  &.active {\r\n    border-bottom: 1px solid #fff;\r\n  }\r\n`;\r\n\r\nconst HeaderTop = styled.div`\r\n  display: flex;\r\n  margin-left: 0px;\r\n`;\r\nconst HeadTopLeft = styled.nav`\r\n  display: flex;\r\n`;\r\nconst Login = styled.div`\r\n  margin-left: auto;\r\n`;\r\nconst HeadTopRight = styled(Login)`\r\n  display: flex;\r\n`;\r\nconst HeadMid = styled.div`\r\n  align-self: center;\r\n`;\r\nconst HeadBottom = styled.div`\r\n  align-self: center;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  margin-left: 10px;\r\n`;\r\n\r\n\r\n\r\nconst Component = observer(() => {\r\n  const { UserStore, AuthStore } = useStores();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      localStorage.getItem(\"username\") &&\r\n      localStorage.getItem(\"password\")\r\n    ) {\r\n      AuthStore.setUsername(localStorage.getItem(\"username\")+\"\");\r\n      AuthStore.setPassword(localStorage.getItem(\"password\"));\r\n      AuthStore.login();\r\n    }else{\r\n      if(!localStorage.getItem(\"username\")){\r\n        localStorage.setItem(\"username\",Math.random(1000000000))}\r\n    }\r\n  }, []);\r\n  const handleOut = () => {\r\n    AuthStore.logout();\r\n    history.push(\"/login\");\r\n  };\r\n  const onSearch = (value) => {\r\n    history.push(\"/history\");\r\n  };\r\n  const onCart = (value) => {\r\n    history.push(\"/cart\");\r\n  };\r\n  const handleRegister = () => {\r\n    history.push(\"/register\");\r\n  };\r\n  const handleLogin = () => {\r\n    history.push(\"/login\");\r\n  };\r\n  return (\r\n    <Header>\r\n      <HeaderTop>\r\n        <HeadTopLeft>\r\n          <StyledButton type=\"primary\"  onClick={onSearch}>\r\n            History\r\n          </StyledButton>\r\n        </HeadTopLeft>\r\n\r\n        <HeadTopRight>\r\n          {UserStore.currentUser ? (\r\n            <>\r\n            <h2 style={{color:\"white\"}} >\r\n            Hi, {UserStore.currentUser.attributes.username}\r\n              </h2>\r\n              <StyledButton type=\"primary\" onClick={handleOut}>\r\n                Logout\r\n              </StyledButton>\r\n              <StyledButton type=\"primary\" onClick={onCart}>\r\n                My Wishlist\r\n              </StyledButton>\r\n              <StyledButton type=\"primary\" onClick={onCart}>\r\n                Shopping Bag\r\n              </StyledButton>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <StyledButton type=\"primary\" onClick={handleLogin}>\r\n                Login\r\n              </StyledButton>\r\n\r\n              <StyledButton type=\"primary\" onClick={handleRegister}>\r\n                Register\r\n              </StyledButton>\r\n            </>\r\n          )}\r\n        </HeadTopRight>\r\n      </HeaderTop>\r\n      <HeadMid>\r\n        <StyledLink to=\"/\" activeClassName=\"active\" exact>\r\n          <P>\r\n            <Logo src={LogoUrl} /> Logo Name\r\n          </P>\r\n        </StyledLink>\r\n      </HeadMid>\r\n      <HeadBottom>\r\n        <ProductDropdown></ProductDropdown>\r\n      </HeadBottom>\r\n    </Header>\r\n  );\r\n});\r\n\r\nexport default Component;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Footer = styled.footer`\r\n  padding: 10px 100px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #aaa;\r\n`;\r\n\r\nfunction Component() {\r\n  return (\r\n    <Footer>\r\n      <p>Footer</p>\r\n    </Footer>\r\n  );\r\n}\r\n\r\nexport default Component;","import React from \"react\";\r\nfunction Loading(){\r\n    return (\r\n        <div>\r\n        Loading\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Loading;","import \"./App.css\";\nimport { Switch, Route, HashRouter } from \"react-router-dom\";\nimport React, { Suspense, lazy } from \"react\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport Loading from \"./components/Loading\";\nimport {Elements} from '@stripe/react-stripe-js';\nimport {loadStripe} from '@stripe/stripe-js';\nconst Home = lazy(() => import(\"./pages/Home\"));\nconst Cart = lazy(() => import(\"./pages/cart\"));\nconst History = lazy(() => import(\"./pages/History\"));\nconst About = lazy(() => import(\"./pages/About\"));\nconst Login = lazy(() => import(\"./pages/Login\"));\nconst Register = lazy(() => import(\"./pages/Register\"));\nconst Products = lazy(() => import(\"./pages/page-of-product\"));\nconst Product = lazy(() => import(\"./pages/page-of-product-detail\"));\nconst Payment = lazy(() => import(\"./pages/payment\"));\nconst stripePromise = loadStripe('pk_test_51JMRuQAQ6Y8k9VYgZGILU4Co2qOb3u7on7TOqz6j6lefsa4r8iorVyzpNP8s7FSoX4nWw76AiR56xrFbjvYqWE0x00xUetUR1l');\nfunction App() {\n  return (\n    <>\n      <Header></Header>\n      <Suspense fallback={<Loading />} >\n      <Elements stripe={stripePromise}>\n      <main>\n      <HashRouter>\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/cart\" exact component={Cart} />\n            <Route path=\"/history\" exact component={History} />\n            <Route path=\"/about\" exact component={About} />\n            <Route path=\"/Login\" exact component={Login} />\n            <Route path=\"/Register\" exact component={Register} />\n            <Route path=\"/payment\" exact component={Payment} />\n            <Route path=\"/products/:type\" exact component={Products} />\n            <Route path=\"/products/:type/:product\" exact component={Product} />\n            \n          </Switch>\n          </HashRouter>\n        </main>\n     \n    </Elements>\n      </Suspense>\n      <Footer></Footer>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {HashRouter as Router} from \"react-router-dom\"\nimport \"antd/dist/antd.css\"\n\ndocument.cookie = 'cookie1=value1; SameSite=Lax';\n\ndocument.cookie = 'cookie2=value2; SameSite=None; Secure';\nReactDOM.render(\n  <Router>\n    <App />\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import AV, { User } from \"leancloud-storage\";\r\n\r\nAV.init({\r\n  appId: \"cjDTIbFOg8KpWafHTo3cQ4qJ-gzGzoHsz\",\r\n  appKey: \"e1E8zXtqf110r6q4R0KWkGk0\",\r\n  serverURL: \"https://cjdtibfo.lc-cn-n1-shared.com\",\r\n});\r\nconst Auth = {\r\n  register(username, password) {\r\n    let user = new User();\r\n    user.setUsername(username);\r\n    user.setPassword(password);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      user.signUp().then(\r\n        (loginedUser) => {\r\n          localStorage.setItem(\"username\", username);\r\n          localStorage.setItem(\"password\", password);\r\n          return resolve(loginedUser);\r\n        },\r\n        (error) => reject(error)\r\n      );\r\n    });\r\n  },\r\n  login(username, password) {\r\n    let user = new User();\r\n    user.setUsername(username);\r\n    user.setPassword(password);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      user.logIn(username, password).then(\r\n        (loginUser) => {\r\n          localStorage.setItem(\"username\", username);\r\n          localStorage.setItem(\"password\", password);\r\n          return resolve(loginUser);\r\n        },\r\n        (error) => reject(error)\r\n      );\r\n    });\r\n  },\r\n  logout() {\r\n    localStorage.removeItem(\"username\");\r\n    localStorage.removeItem(\"password\");\r\n    User.logOut();\r\n  },\r\n\r\n  getCurrentUser() {\r\n    return User.current();\r\n  },\r\n};\r\nconst UpLoader = {\r\n  add(type, No) {\r\n    const item = new AV.Object(\"Cart\");\r\n\r\n    item.set(\"type\", type);\r\n    item.set(\"No\", No);\r\n    item.set(\"username\", localStorage.getItem(\"username\"));\r\n\r\n    return new Promise((resolve, reject) => {\r\n      item.save().then(\r\n        (serverProduct) => resolve(serverProduct),\r\n        (error) => reject(error)\r\n      );\r\n    });\r\n  },\r\n\r\n  delete(id, database) {\r\n    const query = AV.Object.createWithoutData(database, id);\r\n    return new Promise((resolve, reject) => {\r\n      query\r\n        .destroy()\r\n        .then((results) => resolve(results))\r\n        .catch((error) => reject(error));\r\n    });\r\n  },\r\n\r\n  find({ page = 0, limit = 10 }, database) {\r\n    const query = new AV.Query(database);\r\n    query.include(\"username\");\r\n    query.limit(limit);\r\n    query.descending(\"createdAt\");\r\n    query.skip(page * limit);\r\n    query.equalTo(\"username\", localStorage.getItem(\"username\"));\r\n\r\n    return new Promise((resolve, reject) => {\r\n      query\r\n        .find()\r\n        .then((results) => resolve(results))\r\n        .catch((error) => reject(error));\r\n    });\r\n  },\r\n\r\n  async buy(props, address) {\r\n    let resultList;\r\n    const query = new AV.Query(\"Cart\");\r\n    query.include(\"objectId\");\r\n    query.equalTo(\"username\", localStorage.getItem(\"username\"));\r\n    await new Promise((resolve, reject) => {\r\n      query\r\n        .find()\r\n        .then((results) => {\r\n          resultList = results;\r\n          console.log(results);\r\n          return resolve(results);\r\n        })\r\n        .catch((error) => reject(error));\r\n    });\r\n    for (let i = 0; i < resultList.length; i++) {\r\n      const item = new AV.Object(\"History\");\r\n      item.set(\"type\", resultList[i].attributes.type);\r\n      item.set(\"No\", resultList[i].attributes.No);\r\n      item.set(\"owner\", props.name);\r\n      item.set(\"username\", localStorage.getItem(\"username\"));\r\n      item.set(\"address\", address);\r\n      item.set(\"phone\", props.phone);\r\n      item.set(\"email\", props.email);\r\n      await this.delete(resultList[i].id, \"Cart\");\r\n      await new Promise((resolve, reject) => {\r\n        item.save().then(\r\n          (serverProduct) => resolve(serverProduct),\r\n          (error) => reject(error)\r\n        );\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\nexport { Auth, UpLoader };\r\n"],"sourceRoot":""}