(this.webpackJsonpepic=this.webpackJsonpepic||[]).push([[2],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r,o,i,a,c,s,u,l,p,b,j,f,h,O,d=n(0),m=n(26),g=n(48),y=n(49),x=n(11),w=(n(73),n(125)),v=n(6),S=n(35),k=new(r=function(){function e(){Object(g.a)(this,e),Object(m.a)(this,"currentUser",o,this),Object(v.m)(this)}return Object(y.a)(e,[{key:"pullUser",value:function(){this.currentUser=S.a.getCurrentUser()}},{key:"resetUser",value:function(){this.currentUser=null}}]),e}(),o=Object(x.a)(r.prototype,"currentUser",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(x.a)(r.prototype,"pullUser",[v.f],Object.getOwnPropertyDescriptor(r.prototype,"pullUser"),r.prototype),Object(x.a)(r.prototype,"resetUser",[v.f],Object.getOwnPropertyDescriptor(r.prototype,"resetUser"),r.prototype),r),P=n(47),U=n.n(P),I=n(71),L=new(i=function(){function e(){Object(g.a)(this,e),Object(m.a)(this,"list",a,this),Object(m.a)(this,"isLoading",c,this),Object(m.a)(this,"hasMore",s,this),Object(m.a)(this,"page",u,this),this.limit=10,Object(v.m)(this)}return Object(y.a)(e,[{key:"append",value:function(e){this.list=this.list.concat(e)}},{key:"find",value:function(){var e=Object(I.a)(U.a.mark((function e(t){var n=this;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,S.b.find({page:this.page,limit:this.limit},t).then((function(e){n.append(e),n.page++,e.length<n.limit&&(n.hasMore=!1)})).catch((function(e){return w.b.error("load data fail")})).finally((function(){return n.isLoading=!1}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.list=[],this.isLoading=!1,this.hasMore=!0,this.page=0}}]),e}(),a=Object(x.a)(i.prototype,"list",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(x.a)(i.prototype,"isLoading",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(x.a)(i.prototype,"hasMore",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=Object(x.a)(i.prototype,"page",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(x.a)(i.prototype,"append",[v.f],Object.getOwnPropertyDescriptor(i.prototype,"append"),i.prototype),Object(x.a)(i.prototype,"find",[v.f],Object.getOwnPropertyDescriptor(i.prototype,"find"),i.prototype),Object(x.a)(i.prototype,"reset",[v.f],Object.getOwnPropertyDescriptor(i.prototype,"reset"),i.prototype),i),z=(n(133),new(l=function(){function e(){Object(g.a)(this,e),Object(m.a)(this,"fileName",p,this),Object(m.a)(this,"file",b,this),Object(m.a)(this,"isLoading",j,this),Object(m.a)(this,"serverFile",f,this),Object(v.m)(this)}return Object(y.a)(e,[{key:"setFileName",value:function(e){this.fileName=e}},{key:"setFile",value:function(e){this.file=e}},{key:"upLoader",value:function(){var e=this;return this.isLoading=!0,this.serverFile=null,new Promise((function(t,n){S.b.add(e.file,e.fileName).then((function(n){e.serverFile=n,t(n)})).catch((function(e){return n(e)})).finally((function(){return e.isLoading=!1}))}))}},{key:"reset",value:function(){this.isLoading=!1,this.serverFile=null}}]),e}(),p=Object(x.a)(l.prototype,"fileName",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=Object(x.a)(l.prototype,"file",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Object(x.a)(l.prototype,"isLoading",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=Object(x.a)(l.prototype,"serverFile",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(x.a)(l.prototype,"setFileName",[v.f],Object.getOwnPropertyDescriptor(l.prototype,"setFileName"),l.prototype),Object(x.a)(l.prototype,"setFile",[v.f],Object.getOwnPropertyDescriptor(l.prototype,"setFile"),l.prototype),Object(x.a)(l.prototype,"upLoader",[v.f],Object.getOwnPropertyDescriptor(l.prototype,"upLoader"),l.prototype),Object(x.a)(l.prototype,"reset",[v.f],Object.getOwnPropertyDescriptor(l.prototype,"reset"),l.prototype),l)),F=new(h=function(){function e(){Object(g.a)(this,e),Object(m.a)(this,"values",O,this),Object(v.m)(this)}return Object(y.a)(e,[{key:"setUsername",value:function(e){this.values.username=e}},{key:"setPassword",value:function(e){this.values.password=e}},{key:"login",value:function(){var e=this;return new Promise((function(t,n){S.a.login(e.values.username,e.values.password).then((function(e){k.pullUser(),t(e)})).catch((function(e){k.resetUser(),w.b.error("fail to login, please check username and password"),n(e)}))}))}},{key:"register",value:function(){var e=this;return new Promise((function(t,n){S.a.register(e.values.username,e.values.password).then((function(e){k.pullUser(),t(e)})).catch((function(e){k.resetUser(),w.b.error("fail to register, username already exist"),n(e)}))}))}},{key:"logout",value:function(e){S.a.logout(),k.resetUser(),L.reset(),z.reset()}}]),e}(),O=Object(x.a)(h.prototype,"values",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{username:"aaron",password:""}}}),Object(x.a)(h.prototype,"setUsername",[v.f],Object.getOwnPropertyDescriptor(h.prototype,"setUsername"),h.prototype),Object(x.a)(h.prototype,"setPassword",[v.f],Object.getOwnPropertyDescriptor(h.prototype,"setPassword"),h.prototype),Object(x.a)(h.prototype,"login",[v.f],Object.getOwnPropertyDescriptor(h.prototype,"login"),h.prototype),Object(x.a)(h.prototype,"register",[v.f],Object.getOwnPropertyDescriptor(h.prototype,"register"),h.prototype),Object(x.a)(h.prototype,"logout",[v.f],Object.getOwnPropertyDescriptor(h.prototype,"logout"),h.prototype),h),C=Object(d.createContext)({AuthStore:F,UserStore:k,ImageStore:z,HistoryStore:L}),D=function(){return Object(d.useContext)(C)}},131:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r,o=n(0),i=n(21),a=n.n(i),c=(n(131),n(44)),s=n(17),u=n(23),l=n.p+"static/media/logo.6ce24c58.svg",p=n(24),b=n(87),j=n(102),f=n(103),h=n(151),O=n(152),d=n(52),m=n(7),g=Object(p.a)(b.a)(r||(r=Object(u.a)(["\n  margin: 0 30px;\n"])));var y,x,w,v,S,k,P,U,I,L,z,F,C=function(){var e=[],t=function(e){var t=0,n=[];for(var r in d)if(r===e)for(var o in d[r])t++,n.push(Object(m.jsx)(h.a.Item,{children:Object(m.jsx)(c.b,{to:"/products/"+d[r][o],children:d[r][o]})},t));return Object(m.jsx)(h.a,{children:n},t)};for(var n in d.homeTitleList)e.push(Object(m.jsx)(O.a,{overlay:t(n),placement:"bottomCenter",arrow:!0,children:Object(m.jsx)(g,{children:d.homeTitleList[n]})},n));return Object(m.jsx)(m.Fragment,{children:e})},D=p.a.header(y||(y=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px 10px;\n  background-color: #02101f;\n  color: #fff;\n  & StyledLink {\n    align-items: center;\n  }\n"]))),N=p.a.img(x||(x=Object(u.a)(["\n  height: 30px;\n"]))),E=p.a.p(w||(w=Object(u.a)(["\n  color: #f3f;\n  font-size: 50px;\n"]))),R=Object(p.a)(c.c)(v||(v=Object(u.a)(["\n  margin: 0 30px;\n\n  &.active {\n    border-bottom: 1px solid #fff;\n  }\n"]))),T=p.a.div(S||(S=Object(u.a)(["\n  display: flex;\n  margin-left: 0px;\n"]))),q=p.a.nav(k||(k=Object(u.a)(["\n  display: flex;\n"]))),A=p.a.div(P||(P=Object(u.a)(["\n  margin-left: auto;\n"]))),W=Object(p.a)(A)(U||(U=Object(u.a)(["\n  display: flex;\n"]))),H=p.a.div(I||(I=Object(u.a)(["\n  align-self: center;\n"]))),M=p.a.div(L||(L=Object(u.a)(["\n  align-self: center;\n"]))),B=Object(p.a)(b.a)(z||(z=Object(u.a)(["\n  margin-left: 10px;\n"]))),J=Object(f.a)((function(){var e=Object(j.a)(),t=e.UserStore,n=e.AuthStore,r=Object(s.f)();Object(o.useEffect)((function(){localStorage.getItem("username")&&localStorage.getItem("password")?(n.setUsername(localStorage.getItem("username")+""),n.setPassword(localStorage.getItem("password")),n.login()):localStorage.getItem("username")||localStorage.setItem("username",Math.random(1e9))}),[]);var i=function(e){r.push("/cart")};return Object(m.jsxs)(D,{children:[Object(m.jsxs)(T,{children:[Object(m.jsx)(q,{children:Object(m.jsx)(B,{type:"primary",onClick:function(e){r.push("/history")},children:"History"})}),Object(m.jsx)(W,{children:t.currentUser?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h2",{style:{color:"white"},children:["Hi, ",t.currentUser.attributes.username]}),Object(m.jsx)(B,{type:"primary",onClick:function(){n.logout(),r.push("/login")},children:"Logout"}),Object(m.jsx)(B,{type:"primary",onClick:i,children:"My Wishlist"}),Object(m.jsx)(B,{type:"primary",onClick:i,children:"Shopping Bag"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(B,{type:"primary",onClick:function(){r.push("/login")},children:"Login"}),Object(m.jsx)(B,{type:"primary",onClick:function(){r.push("/register")},children:"Register"})]})})]}),Object(m.jsx)(H,{children:Object(m.jsx)(R,{to:"/",activeClassName:"active",exact:!0,children:Object(m.jsxs)(E,{children:[Object(m.jsx)(N,{src:l})," Logo Name"]})})}),Object(m.jsx)(M,{children:Object(m.jsx)(C,{})})]})})),G=p.a.footer(F||(F=Object(u.a)(["\n  padding: 10px 100px;\n  text-align: center;\n  font-size: 12px;\n  color: #aaa;\n"])));var Q=function(){return Object(m.jsx)(G,{children:Object(m.jsx)("p",{children:"Footer"})})};var Y=function(){return Object(m.jsx)("div",{children:"Loading"})},K=n(113),V=n(114),X=Object(o.lazy)((function(){return n.e(12).then(n.bind(null,284))})),_=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,285))})),Z=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(9)]).then(n.bind(null,286))})),$=Object(o.lazy)((function(){return n.e(11).then(n.bind(null,273))})),ee=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,274))})),te=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,275))})),ne=Object(o.lazy)((function(){return Promise.all([n.e(5),n.e(10)]).then(n.bind(null,276))})),re=Object(o.lazy)((function(){return n.e(8).then(n.bind(null,283))})),oe=Object(o.lazy)((function(){return n.e(6).then(n.bind(null,277))})),ie=Object(V.a)("pk_test_51JMRuQAQ6Y8k9VYgZGILU4Co2qOb3u7on7TOqz6j6lefsa4r8iorVyzpNP8s7FSoX4nWw76AiR56xrFbjvYqWE0x00xUetUR1l");var ae=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(J,{}),Object(m.jsx)(o.Suspense,{fallback:Object(m.jsx)(Y,{}),children:Object(m.jsx)(K.Elements,{stripe:ie,children:Object(m.jsx)("main",{children:Object(m.jsx)(c.a,{children:Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{path:"/",exact:!0,component:X}),Object(m.jsx)(s.a,{path:"/cart",exact:!0,component:_}),Object(m.jsx)(s.a,{path:"/history",exact:!0,component:Z}),Object(m.jsx)(s.a,{path:"/about",exact:!0,component:$}),Object(m.jsx)(s.a,{path:"/Login",exact:!0,component:ee}),Object(m.jsx)(s.a,{path:"/Register",exact:!0,component:te}),Object(m.jsx)(s.a,{path:"/payment",exact:!0,component:oe}),Object(m.jsx)(s.a,{path:"/products/:type",exact:!0,component:ne}),Object(m.jsx)(s.a,{path:"/products/:type/:product",exact:!0,component:re})]})})})})}),Object(m.jsx)(Q,{})]})},ce=function(e){e&&e instanceof Function&&n.e(15).then(n.bind(null,278)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};n(148);document.cookie="cookie1=value1; SameSite=Lax",document.cookie="cookie2=value2; SameSite=None; Secure",a.a.render(Object(m.jsx)(c.a,{children:Object(m.jsx)(ae,{})}),document.getElementById("root")),ce()},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(47),o=n.n(r),i=n(71),a=n(33),c=n.n(a);c.a.init({appId:"cjDTIbFOg8KpWafHTo3cQ4qJ-gzGzoHsz",appKey:"e1E8zXtqf110r6q4R0KWkGk0",serverURL:"https://cjdtibfo.lc-cn-n1-shared.com"});var s={register:function(e,t){var n=new a.User;return n.setUsername(e),n.setPassword(t),new Promise((function(r,o){n.signUp().then((function(n){return localStorage.setItem("username",e),localStorage.setItem("password",t),r(n)}),(function(e){return o(e)}))}))},login:function(e,t){var n=new a.User;return n.setUsername(e),n.setPassword(t),new Promise((function(r,o){n.logIn(e,t).then((function(n){return localStorage.setItem("username",e),localStorage.setItem("password",t),r(n)}),(function(e){return o(e)}))}))},logout:function(){localStorage.removeItem("username"),localStorage.removeItem("password"),a.User.logOut()},getCurrentUser:function(){return a.User.current()}},u={add:function(e,t){var n=new c.a.Object("Cart");return n.set("type",e),n.set("No",t),n.set("username",localStorage.getItem("username")),new Promise((function(e,t){n.save().then((function(t){return e(t)}),(function(e){return t(e)}))}))},delete:function(e,t){var n=c.a.Object.createWithoutData(t,e);return new Promise((function(e,t){n.destroy().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))},find:function(e,t){var n=e.page,r=void 0===n?0:n,o=e.limit,i=void 0===o?10:o,a=new c.a.Query(t);return a.include("username"),a.limit(i),a.descending("createdAt"),a.skip(r*i),a.equalTo("username",localStorage.getItem("username")),new Promise((function(e,t){a.find().then((function(t){return e(t)})).catch((function(e){return t(e)}))}))},buy:function(e,t){var n=this;return Object(i.a)(o.a.mark((function r(){var i,a,s,u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new c.a.Query("Cart")).include("objectId"),a.equalTo("username",localStorage.getItem("username")),r.next=5,new Promise((function(e,t){a.find().then((function(t){return i=t,console.log(t),e(t)})).catch((function(e){return t(e)}))}));case 5:s=o.a.mark((function r(a){var s;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(s=new c.a.Object("History")).set("type",i[a].attributes.type),s.set("No",i[a].attributes.No),s.set("owner",e.name),s.set("username",localStorage.getItem("username")),s.set("address",t),s.set("phone",e.phone),s.set("email",e.email),r.next=10,n.delete(i[a].id,"Cart");case 10:return r.next=12,new Promise((function(e,t){s.save().then((function(t){return e(t)}),(function(e){return t(e)}))}));case 12:case"end":return r.stop()}}),r)})),u=0;case 7:if(!(u<i.length)){r.next=12;break}return r.delegateYield(s(u),"t0",9);case 9:u++,r.next=7;break;case 12:case"end":return r.stop()}}),r)})))()}}},52:function(e){e.exports=JSON.parse('{"homeTitleList":{"newIn":"NEW IN","designers":"DESIGNERS","allBags":"ALL BAGS","shoes":"SHOES","jewelry":"JEWELRY","accessories":"ACCESSORIES"},"newIn":null,"designers":{"1":"www.baidu.com","2":"www.google.com","3":"www.bilibili.com"},"allBags":{"1":"1111www.baidu.com","2":"111111www.google.com","3":"11111111www.bilibili.com"},"shoes":{"1":"pingxie","2":"gaogenxie","3":"nanxie","4":"nvxie"}}')}},[[149,3,4]]]);
//# sourceMappingURL=main.343f6c1b.chunk.js.map